project
  : requirements
    <include>.
  : usage-requirements
  ;

lib dl z ssl crypto cap event gflags glog double-conversion ;
alias deplibs : dl z ssl crypto cap event ;
alias googlelibs : gflags glog double-conversion ;

lib boost_system boost_coroutine boost_filesystem boost_thread boost_context ;
alias boostlibs : boost_system boost_coroutine boost_filesystem boost_thread boost_context ;

lib libfollyinit : : <file>/usr/local/lib/libfollyinit.a ;
lib libfolly :  : <file>/usr/local/lib/libfolly.a ;
lib libproxygenhttpserver : : <file>/usr/local/lib/libproxygenhttpserver.a ;
lib libproxygenlib : : <file>/usr/local/lib/libproxygenlib.a ;
lib libwangle : : <file>/usr/local/lib/libwangle.a ;
alias facebooklibs : libfollyinit libfolly libproxygenhttpserver libproxygenlib libwangle ;

exe push
    : PushRequestHandler.cpp PushServer.cpp
        facebooklibs googlelibs boostlibs deplibs
    ;

# exe s : httpserver/samples/s/EchoHandler.cpp httpserver/samples/s/EchoServer.cpp facebooklibs googlelibs boostlibs deplibs ;
# -std=gnu++14
# -Wno-missing-field-initializers -Wno-deprecated -W -Wall -Wextra -Wno-unused-parameter
# -fno-strict-aliasing
# -MT EchoHandler.o -MD -MP -MF $depbase.Tpo -c -o EchoHandler.o EchoHandler.cpp
# g++ -std=gnu++14 -DHAVE_CONFIG_H   -I../../../.. -I../../../lib/test/googletest-release-1.8.0/googlemock/include -I../../../lib/test/googletest-release-1.8.0/googletest/include  -I/usr/include   -DLIBMC_FBTRACE_DISABLE  -Wno-missing-field-initializers -Wno-deprecated -O3 -g -W -Wall -Wextra -Wno-unused-parameter -fno-strict-aliasing -g -O2 -MT EchoServer.o -MD -MP -MF $depbase.Tpo -c -o EchoServer.o EchoServer.cpp &&\
# /bin/bash ../../../libtool  --tag=CXX   --mode=link g++ -std=gnu++14  -DLIBMC_FBTRACE_DISABLE  -Wno-missing-field-initializers -Wno-deprecated -O3 -g -W -Wall -Wextra -Wno-unused-parameter -fno-strict-aliasing -g -O2   -o echo_server EchoHandler.o EchoServer.o ../../libproxygenhttpserver.la -lwangle -lfolly -lz -lssl -lcrypto -lcap -levent -lgflags -lglog  -L/usr/lib64 -lpthread -pthread -lfolly -lglog -ldouble-conversion -lboost_system -lboost_thread
# libtool: link: g++ -std=gnu++14 -DLIBMC_FBTRACE_DISABLE -Wno-missing-field-initializers -Wno-deprecated -O3 -g -W -Wall -Wextra -Wno-unused-parameter -fno-strict-aliasing -g -O2 -o .libs/echo_server EchoHandler.o EchoServer.o -pthread  ../../.libs/libproxygenhttpserver.so -lwangle -lz -lssl -lcrypto -lcap -levent -lgflags -L/usr/lib64 -lpthread -lfolly -lglog -ldouble-conversion -lboost_system -lboost_thread -pthread

# -MT EchoHandler.o -MD -MP -MF $depbase.Tpo -c -o EchoHandler.o EchoHandler.cpp
# -lwangle -lz -lssl -lcrypto -lcap -levent -lgflags
# -lfolly -lglog -ldouble-conversion -lboost_system -lboost_thread

