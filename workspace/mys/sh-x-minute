#!/bin/sh

for x in 2016011{0..9} 2016012{0..9} 2016013{0..9}
#for x in 2016010{0..9} 2016011{0..9} 2016012{0..9} 2016013{0..9}
#for x in 2015113{0..9} 2015120{0..9} 2015121{0..9} 2015122{0..9} 2016010{0..9} 2016011{0..9}
#for x in 2015113{0..9} 2015120{0..9} 2015121{0..9} 2015122{0..9} 2016010{0..9}
#for x in 20151231
do
    xz=
    zf=~/../HS/$x.7z

    [ -r "$zf" ] || continue
    [ ! -e "x-minute/$x" ] || continue

    if [ ! -e "tmp/$x" ]; then
        7z x -otmp/ $zf
        xz=y
    fi

    if bin/x-minute tmp/$x > x-minute/$x ; then
        [ -z "$xz" ] || rm -rf tmp/$x
        echo "$x: OK"
    else
        rm -f x-minute/$x
        echo "$x: FAIL"
    fi
done

